<!DOCTYPE html>
<!-- paulirish.com/2008/conditional-stylesheets-vs-css-hacks-answer-neither/ -->
<!--[if lt IE 7 ]> <html lang="no" class="no-js ie6"> <![endif]-->
<!--[if IE 7 ]>    <html lang="no" class="no-js ie7"> <![endif]-->
<!--[if IE 8 ]>    <html lang="no" class="no-js ie8"> <![endif]-->
<!--[if IE 9 ]>    <html lang="no" class="no-js ie9"> <![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--> <html lang="no" class="no-js"> <!--<![endif]-->

  <head>
    <!--[if IE]><![endif]-->
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta charset="utf-8" />
    <meta name="author" content="lre">

    <!--  Mobile viewport optimized: j.mp/bplateviewport -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- All JavaScript at the bottom, except for Modernizr which enables HTML5 elements & feature detects -->
    <script src="js/modernizr-1.6.min.js"></script>
    <script src="js/local.js"></script>

    <title>HTML5 - forms</title>
    <link rel="stylesheet" href="css/style.css" />
    <link rel="shortcut icon" href="media/favicon.png" type="image/png">
  </head>

  <body>

    <div id="container">
      <h1>HTML5 - Forms</h1>

      <header>
        <img src="media/logo2.gif" alt="logo" />
        &nbsp;&nbsp;&nbsp;
        <img src="media/HTML5.png" alt="logo" />
      </header>

      <nav id="nav">
        <ul>
          <li><a href="index.html">Intro</a></li>
          <li><a href="history.html">Historien</a></li>
          <li><a href="structure.html">Struktur</a></li>
          <li><a href="media.html">Media</a></li>
          <li><a href="workers.html">Workers</a></li>
          <li><a href="offline.html">Offline</a></li>
          <li>
            <a href="forms.html">Forms</a>
            <ul>
              <li><a href="#forms">Forms API</a></li>
              <li><a href="#valid">Validation</a></li>
              <li><a href="#xForm">Eksempel</a></li>
            </ul>
          </li>
          <li><a href="desktop.html">Desktop</a></li>
          <li><a href="mobile.html">Mobil</a></li>
          <li><a href="divapi.html">APIer</a></li>
          <li><a href="refs.html">Referanser</a></li>
        </ul>
      </nav>

      <section id="main">

        <article id="forms">
          <header>
            <h2>HTML5 Forms API</h2>
          </header>
          <ul>
            <li>Basis omtrent som f&oslash;r&#x2026;</li>
            <li>Mye frem &amp; tilbake&#x2026;</li>
            <li>Enklere enn XForms&#x2026;</li>
            <li>Mer om semantikk og funksjon enn utseende</li>
            <li>
              Nye inputtyper: <code>tel, email, url, search, range</code> samt
              <code>number, color, datetime, datetime-local,
              time, date, week, month</code>
            </li>
            <li>
              Element <code>datalist</code>, attributt <code>list</code>
            </li>
            <li>
              Nye attributter: <code>placeholder, autocomplete, autofocus,
              required, multiple, pattern</code>
            </li>
            <li>
              Nye funksjoner<br/>
              <code>valueAsNumber</code> (begge veier!)
            </li>
            <li>
              Fremtidig: <code>meter, progress, output, time</code>
            </li>
          </ul>
        </article>

        <article id='valid'>
          <header>
            <h2>Validation</h2>
          </header>
          <ul>
            <li>
              <pre>var valState= document.aForm.anInput.validity;
var isValid= valState.valid;</pre>
            </li>
            <li>
              Tilstander: <code>valueMissing</code>
              (required), <code>typeMismatch</code> (f.eks. tekst i
              tallfelt), <code>patternMismatch</code>
              (f.eks. <code>pattern="[0-9]{11}"</code> for
              fnr), <code>tooLong</code>, <code>rangeUnderflow</code>,
              <code>rangeOverflow</code>, <code>stepMismatch</code>
              (min/max/step), <code>customError</code>
              (<code>setCustomValidity(msg)</code>)<br/>
              &#x2026; eller bare <code>valState.valid</code>
            </li>
            <li>
              P&aring; <code>form</code>-elementer:
              <ul>
                <li><code>willValidate</code> (hvis det er constraints
                p&aring; elementet)</li>
                <li><code>checkValidity()</code> (sjekk utenom submit)</li>
                <li><code>validationMessage</code></li>
              </ul>
            </li>
            <li>
              <code>window.prompt/confirm(msg);</code>
            </li>
          </ul>
        </article>

        <article id='xForm'>
          <form name="aForm">
            <datalist id="kontakter">
              <option value="lre@mesan.no" label="lre"></option>
              <option value="lars.reed@mesan.no" label="lars"></option>
              <option value="llrree@hotmail.com" label="llrree"></option>
            </datalist>
            <table summary="form">
              <tbody>
                <tr><td><label for="itel">Telefon:</label></td>
                  <td><input id="itel" type="tel" placeholder="tel" autocomplete="on" required/> (*)</td></tr>
                <tr><td><label for="iemail">E-post:</label></td>
                  <td><input id="iemail" type="email" placeholder="email" autocomplete="on" list="kontakter" /> (list)</td></tr>
                <tr><td><label for="iurl">Web:</label></td>
                  <td><input id="iurl" type="url" placeholder="url" autocomplete="on" /></td></tr>
                <tr><td><label for="isearch">S&oslash;k:</label></td>
                  <td><input id="isearch" type="search" placeholder="search" autocomplete="on" /></td></tr>
                <tr><td><label for="irange">Intervall:</label></td>
                  <td><input id="irange" type="range" autocomplete="on"
                             min="0" max="100" value="50" step="5"
                             onchange='visVerdi(this.value, "pst")' />
                    <span id="pst">50</span>%</td></tr>
                <tr><td><label for="inumber">Tall:</label></td>
                  <td><input id="inumber" type="number" value="42" autocomplete="on" /></td></tr>
                <tr><td><label for="itext">1&ndash;10 tegn:</label></td>
                  <td><textarea id="itext" maxlength="10" required></textarea></td></tr>
                <tr><td><label for="icolor">Farge:</label></td>
                  <td><input id="icolor" type="color" autocomplete="on"
                           onchange='visVerdi(this.value, "col")' />
                    <span id="col">0</span></td></tr>
                <tr><td><label for="idatetime">Dato/tid:</label></td>
                  <td><input id="idatetime" type="datetime" autocomplete="on" /></td></tr>
                <tr><td><label for="idatetimel">Lokal dato/tid:</label></td>
                  <td><input id="idatetimel" type="datetime-local" autocomplete="on" /></td></tr>
                <tr><td><label for="itime">Tid:</label></td>
                  <td><input id="itime" type="time" autocomplete="on" /></td></tr>
                <tr><td><label for="itime2">Time:</label></td>
                  <td><time id="itime2"
                  datetime="2011-01-01">1. januar</time></td></tr>
                <tr><td><label for="idate">Dato:</label></td>
                  <td><input id="idate" type="date" autocomplete="on" /></td></tr>
                <tr><td><label for="iweek">Uke:</label></td>
                  <td><input id="iweek" type="week" autocomplete="on" /></td></tr>
                <tr><td><label for="imonth">M&aring;ned:</label></td>
                  <td><input id="imonth" type="month" autocomplete="on" /></td></tr>
                <tr><td><label for="iout">Output:</label></td>
                  <td><output id="iout" value="Svaret er 42" /></td></tr>
                <tr><td><label for="imeter">M&aring;ler:</label></td>
                  <td><meter id="imeter" min="0" max="1000" low="250"
                  optimum="500" high="750" value="666"  /></td></tr>
                <tr><td><label for="iprog">Progresjon:</label></td>
                  <td><progress id="iprog" value="123456"
                  max="987654">123456</progress</td></tr>
              </tbody>
            </table>
            <input type="submit" name="aForm" value="Send" />
          </form>
          <button onclick="sjekkVal()">Sjekk (siden jeg ikke f&aring;r validering til &aring; trigge ved submit&#x2026;)</button>
          <button onclick="bekreft()">Bekreft!</button>
          <button onclick="askMe()">Sp&oslash;rsm&aring;l?</button>
          <script type='text/javascript'>
            function invalidHandler(evt) {
              var label = evt.srcElement.parentElement.parentElement.getElementsByTagName("label")[0];
              label.style.color = 'red';
              evt.stopPropagation();
              // evt.preventDefault();
            }
            function loadDemo() {
              document.aForm.addEventListener("invalid", invalidHandler, true);
            }

            window.addEventListener("load", loadDemo, false);

            function visVerdi(verdi, felt) {
              document.getElementById(felt).innerHTML= verdi;
            }

            function sjekkVal() {
              document.getElementById("itext").checkValidity();
              document.getElementById("itel").checkValidity();
              document.getElementById("iemail").checkValidity();
              document.getElementById("iurl").checkValidity();
              document.getElementById("isearch").checkValidity();
              document.getElementById("irange").checkValidity();
              document.getElementById("inumber").checkValidity();
              document.getElementById("icolor").checkValidity();
              document.getElementById("idatetime").checkValidity();
              document.getElementById("idatetimel").checkValidity();
              document.getElementById("itime").checkValidity();
              document.getElementById("idate").checkValidity();
              document.getElementById("iweek").checkValidity();
              document.getElementById("imonth").checkValidity();
            }

            function askMe() {
               var res= window.prompt("Hva er svaret?", "42");
               alert("Svaret er " + res);
            }

            function bekreft() {
               var res= window.confirm("Sikker?");
               alert(res);
            }
          </script>
        </article>

      </section>

      <aside>
        <h3>St&oslash;ttet?</h3>
        <p>
          Begrenset st&oslash;tte (Opera i tet!) -- fallback til tekstfelt
        </p>

      </aside>

      <footer>
        <h2>&copy; Mesan AS 2011</h2>
      </footer>
    </div>
  </body>
</html>
